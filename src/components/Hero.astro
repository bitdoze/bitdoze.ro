---
import { Icon } from "astro-icon/components";
import { ctaConfig } from "../config/cta";
import { imageAssets } from "../config/assets";

interface Props {
  title?: string;
  subtitle?: string;
  ctaPrimary?: string;
  ctaSecondary?: string;
  ctaPrimaryLink?: string;
  ctaSecondaryLink?: string;
  imageUrl?: string;
  stats?: {
    value: string;
    label: string;
  }[];
}

const {
  title = "Elevate Your Business with Professional Solutions",
  subtitle = "We provide comprehensive business services designed to help your company grow and succeed in today's competitive market.",
  ctaPrimary = ctaConfig.primaryAction.text,
  ctaSecondary = ctaConfig.secondaryAction?.text || "Learn More",
  ctaPrimaryLink = ctaConfig.primaryAction.href,
  ctaSecondaryLink = ctaConfig.secondaryAction?.href || "/servicii",
  imageUrl = imageAssets.hero.main,
  stats = [
    { value: "98%", label: "Customer satisfaction" },
    { value: "15+", label: "Years experience" },
    { value: "500+", label: "Clients served" },
  ],
} = Astro.props;
---

<section
  class="overflow-hidden relative min-h-[100vh] flex items-center section-padding"
  style="background: linear-gradient(135deg, var(--color-background) 0%, var(--color-background-alt) 100%);"
>
  <!-- Enhanced Background Elements -->
  <div class="absolute inset-0 opacity-60 dark:opacity-30">
    <div class="modern-gradient"></div>
  </div>

  <!-- Floating geometric shapes -->
  <div class="absolute inset-0 overflow-hidden">
    <div class="geometric-shape shape-1"></div>
    <div class="geometric-shape shape-2"></div>
    <div class="geometric-shape shape-3"></div>
    <div class="geometric-shape shape-4"></div>
  </div>

  <!-- Animated particles -->
  <div class="absolute inset-0 particles-container">
    <div class="particle particle-1"></div>
    <div class="particle particle-2"></div>
    <div class="particle particle-3"></div>
    <div class="particle particle-4"></div>
    <div class="particle particle-5"></div>
  </div>

  <div class="relative mx-auto container">
    <div class="grid items-center gap-16 lg:grid-cols-2">
      <!-- Left column (enhanced text content) -->
      <div class="hero-content space-y-8">
        <!-- Badge -->
        <div class="hero-badge">
          <div
            class="inline-flex items-center gap-2 px-4 py-2 rounded-full border backdrop-blur-sm"
            style="background-color: rgba(var(--color-primary-rgb), 0.1); border-color: rgba(var(--color-primary-rgb), 0.2); color: var(--color-primary);"
          >
            <Icon name="mdi:star" class="h-4 w-4" />
            <span class="text-sm font-medium"
              >Peste 100 de clienți mulțumiți</span
            >
          </div>
        </div>

        <!-- Enhanced Title -->
        <div class="space-y-4">
          <h1 class="heading-1">
            <span class="block">{title.split(" ").slice(0, 2).join(" ")}</span>
            <span class="block text-gradient-brand">{title.split(" ").slice(2).join(" ")}</span>
          </h1>
          <p
            class="text-xl lg:text-2xl leading-relaxed max-w-2xl"
            style="color: var(--color-text-light);"
          >
            {subtitle}
          </p>
        </div>

        <!-- Enhanced CTA Buttons -->
        <div class="flex flex-col sm:flex-row gap-4 pt-4">
          <a href={ctaPrimaryLink} class="btn btn-primary btn-lg">
            <span class="flex items-center justify-center gap-2">
              {ctaPrimary}
              <Icon name="mdi:arrow-right" class="h-5 w-5" />
            </span>
          </a>
          <a href={ctaSecondaryLink} class="btn btn-secondary btn-lg">
            <span class="flex items-center justify-center gap-2">
              {ctaSecondary}
              <Icon name="mdi:play-circle" class="h-5 w-5" />
            </span>
          </a>
        </div>

        <!-- Enhanced Stats -->
        <div
          class="grid grid-cols-3 gap-8 pt-8 border-t border-opacity-20"
          style="border-color: var(--color-text-lighter);"
        >
          {
            stats.map((stat, index) => (
              <div class="stat-card text-center">
                <div
                  class="stat-number text-4xl font-bold mb-2"
                  style="color: var(--color-primary);"
                  data-value={stat.value}
                >
                  {stat.value}
                </div>
                <div
                  class="stat-label text-sm font-medium"
                  style="color: var(--color-text-light);"
                >
                  {stat.label}
                </div>
              </div>
            ))
          }
        </div>
      </div>

      <!-- Right column (modernized visual) -->
      <div class="hero-visual relative">
        <div class="main-visual-container">
          <!-- Main image with enhanced styling -->
          <div class="main-image-wrapper">
            <img
              src={imageUrl}
              alt="Soluții Profesionale Web"
              class="main-hero-image"
              width="800"
              height="600"
            />
            <div class="image-overlay"></div>
          </div>

          <!-- Floating feature cards -->
          <div class="feature-card feature-card-1">
            <div class="feature-icon">
              <Icon name="mdi:rocket" class="h-6 w-6" />
            </div>
            <div class="feature-content">
              <div class="feature-title">Performanță Ridicată</div>
              <div class="feature-desc">99.9% Uptime</div>
            </div>
          </div>

          <div class="feature-card feature-card-2">
            <div class="feature-icon">
              <Icon name="mdi:shield-check" class="h-6 w-6" />
            </div>
            <div class="feature-content">
              <div class="feature-title">Securitate Avansată</div>
              <div class="feature-desc">SSL & Firewall</div>
            </div>
          </div>

          <div class="feature-card feature-card-3">
            <div class="feature-icon">
              <Icon name="mdi:trending-up" class="h-6 w-6" />
            </div>
            <div class="feature-content">
              <div class="feature-title">Creștere Rapidă</div>
              <div class="feature-desc">+150% Trafic</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  /* Modern gradient background */
  .modern-gradient {
    background: radial-gradient(
        circle at 20% 80%,
        rgba(var(--color-primary-rgb), 0.15) 0%,
        transparent 50%
      ),
      radial-gradient(
        circle at 80% 20%,
        rgba(var(--color-secondary-rgb), 0.15) 0%,
        transparent 50%
      ),
      radial-gradient(
        circle at 40% 40%,
        rgba(var(--color-accent-rgb), 0.1) 0%,
        transparent 50%
      );
    height: 100%;
    width: 100%;
    animation: gradientShift 8s ease-in-out infinite;
  }

  @keyframes gradientShift {
    0%,
    100% {
      opacity: 1;
      transform: scale(1);
    }
    50% {
      opacity: 0.8;
      transform: scale(1.05);
    }
  }

  /* Geometric shapes */
  .geometric-shape {
    position: absolute;
    border-radius: 50%;
    filter: blur(1px);
    opacity: 0.4;
  }

  .shape-1 {
    width: 120px;
    height: 120px;
    top: 10%;
    left: 10%;
    background: linear-gradient(
      45deg,
      rgba(var(--color-primary-rgb), 0.3),
      transparent
    );
    animation: float 6s ease-in-out infinite;
  }

  .shape-2 {
    width: 80px;
    height: 80px;
    top: 60%;
    right: 20%;
    background: linear-gradient(
      45deg,
      rgba(var(--color-secondary-rgb), 0.3),
      transparent
    );
    animation: float 8s ease-in-out infinite reverse;
  }

  .shape-3 {
    width: 60px;
    height: 60px;
    bottom: 20%;
    left: 30%;
    background: linear-gradient(
      45deg,
      rgba(var(--color-accent-rgb), 0.3),
      transparent
    );
    animation: float 7s ease-in-out infinite;
  }

  .shape-4 {
    width: 40px;
    height: 40px;
    top: 30%;
    right: 40%;
    background: linear-gradient(
      45deg,
      rgba(var(--color-primary-rgb), 0.2),
      transparent
    );
    animation: float 9s ease-in-out infinite reverse;
  }

  /* Particles */
  .particle {
    position: absolute;
    width: 4px;
    height: 4px;
    border-radius: 50%;
    background: var(--color-primary);
    opacity: 0.6;
  }

  .particle-1 {
    top: 20%;
    left: 15%;
    animation: particleFloat 12s linear infinite;
  }

  .particle-2 {
    top: 40%;
    right: 25%;
    animation: particleFloat 15s linear infinite reverse;
  }

  .particle-3 {
    bottom: 30%;
    left: 40%;
    animation: particleFloat 18s linear infinite;
  }

  .particle-4 {
    top: 70%;
    right: 15%;
    animation: particleFloat 20s linear infinite reverse;
  }

  .particle-5 {
    bottom: 50%;
    left: 60%;
    animation: particleFloat 14s linear infinite;
  }

  @keyframes particleFloat {
    0% {
      transform: translateY(0px) translateX(0px);
      opacity: 0;
    }
    10% {
      opacity: 0.6;
    }
    90% {
      opacity: 0.6;
    }
    100% {
      transform: translateY(-100px) translateX(50px);
      opacity: 0;
    }
  }

  @keyframes float {
    0%,
    100% {
      transform: translateY(0px) rotate(0deg);
    }
    50% {
      transform: translateY(-20px) rotate(180deg);
    }
  }

  /* Hero content animations */
  .hero-content {
    animation: slideInFromLeft 1s ease-out forwards;
  }

  .hero-visual {
    animation: slideInFromRight 1s ease-out 0.3s forwards;
    opacity: 0;
  }

  @keyframes slideInFromLeft {
    from {
      opacity: 0;
      transform: translateX(-50px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes slideInFromRight {
    from {
      opacity: 0;
      transform: translateX(50px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  /* Hero badge */
  .hero-badge {
    animation: fadeInUp 0.8s ease-out 0.2s forwards;
    opacity: 0;
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Buttons now use global .btn utilities */

  /* Enhanced stats */
  .stat-card {
    animation: countUp 1.5s ease-out 1s forwards;
    opacity: 0;
  }

  .stat-card:nth-child(2) {
    animation-delay: 1.2s;
  }

  .stat-card:nth-child(3) {
    animation-delay: 1.4s;
  }

  @keyframes countUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Hero visual styling */
  .main-visual-container {
    position: relative;
    width: 100%;
    max-width: 600px;
    margin: 0 auto;
  }

  .main-image-wrapper {
    position: relative;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
    transform: perspective(1000px) rotateY(-5deg) rotateX(5deg);
    transition: transform 0.6s ease;
  }

  .main-image-wrapper:hover {
    transform: perspective(1000px) rotateY(0deg) rotateX(0deg);
  }

  .main-hero-image {
    width: 100%;
    height: auto;
    display: block;
    transition: transform 0.6s ease;
  }

  .main-image-wrapper:hover .main-hero-image {
    transform: scale(1.05);
  }

  .image-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(
      45deg,
      rgba(var(--color-primary-rgb), 0.1),
      transparent
    );
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .main-image-wrapper:hover .image-overlay {
    opacity: 1;
  }

  /* Floating feature cards */
  .feature-card {
    position: absolute;
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 16px 20px;
    background: rgba(255, 255, 255, 0.95);
    border-radius: 16px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    animation: floatCard 6s ease-in-out infinite;
  }

  .feature-card-1 {
    top: 10%;
    left: -10%;
    animation-delay: 0s;
  }

  .feature-card-2 {
    top: 50%;
    right: -15%;
    animation-delay: 2s;
  }

  .feature-card-3 {
    bottom: 10%;
    left: -5%;
    animation-delay: 4s;
  }

  .feature-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border-radius: 10px;
    background: linear-gradient(
      135deg,
      var(--color-primary),
      var(--color-secondary)
    );
    color: white;
  }

  .feature-content {
    display: flex;
    flex-direction: column;
  }

  .feature-title {
    font-size: 14px;
    font-weight: 600;
    color: var(--color-text);
    margin-bottom: 2px;
  }

  .feature-desc {
    font-size: 12px;
    color: var(--color-text-light);
  }

  @keyframes floatCard {
    0%,
    100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-15px);
    }
  }

  /* Dark mode adjustments */
  :global(.dark) .feature-card {
    background: rgba(var(--color-dark-background-alt-rgb), 0.9);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }

  :global(.dark) .feature-title {
    color: var(--color-dark-text);
  }

  :global(.dark) .feature-desc {
    color: var(--color-dark-text-light);
  }

  :global(.dark) .hero-badge > div {
    background-color: rgba(var(--color-primary-rgb), 0.2);
    border-color: rgba(var(--color-primary-rgb), 0.3);
  }

  /* Buttons now use global .btn (dark mode handled globally) */

  /* Responsive adjustments */
  @media (max-width: 768px) {
    .feature-card {
      display: none;
    }

    .text-5xl {
      font-size: 2.5rem;
    }

    .lg\:text-7xl {
      font-size: 3rem;
    }

    .text-xl {
      font-size: 1.125rem;
    }

    .lg\:text-2xl {
      font-size: 1.25rem;
    }

    .main-image-wrapper {
      transform: none;
    }

    .main-image-wrapper:hover {
      transform: none;
    }
  }
</style>
