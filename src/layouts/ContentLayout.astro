---
import Layout from './Layout.astro';
import PageHeader from '../components/PageHeader.astro';

interface Props {
  title?: string;
  description?: string;
  image?: string;
  canonical?: string;
  ogType?: "website" | "article";
  twitterCard?: "summary" | "summary_large_image";
  noindex?: boolean;
  nofollow?: boolean;
  pageTitle?: string;
  pageSubtitle?: string;
  headerIcon?: string;
  withBlobs?: boolean;
  withGrid?: boolean;
  headerAlign?: 'left' | 'center' | 'right';
}

const {
  title,
  description,
  image,
  canonical,
  ogType = "article",
  twitterCard = "summary_large_image",
  noindex = false,
  nofollow = false,
  pageTitle,
  pageSubtitle,
  headerIcon = "mdi:file-document-outline",
  withBlobs = true,
  withGrid = false,
  headerAlign = "center"
} = Astro.props;
---

<Layout
  title={title}
  description={description}
  image={image}
  canonical={canonical}
  ogType={ogType}
  twitterCard={twitterCard}
  noindex={noindex}
  nofollow={nofollow}
>
  {pageTitle && (
    <PageHeader
      title={pageTitle}
      subtitle={pageSubtitle}
      align={headerAlign}
      withBlobs={withBlobs}
      withGrid={withGrid}
      icon={headerIcon}
    />
  )}

  <div class="content-wrapper">
    <div class="container max-w-4xl mx-auto py-12">
      <article class="prose prose-lg max-w-none content-article">
        <slot />
      </article>
    </div>
  </div>
</Layout>

<style>
  .content-wrapper {
    min-height: 50vh;
  }

  .content-article {
    color: var(--color-text);
    line-height: 1.8;
  }

  .content-article h1 {
    font-size: 2.5rem;
    font-weight: 700;
    margin-top: 0;
    margin-bottom: 1.5rem;
    color: var(--color-text);
  }

  .content-article h2 {
    font-size: 1.875rem;
    font-weight: 600;
    margin-top: 3rem;
    margin-bottom: 1.5rem;
    color: var(--color-text);
    padding-bottom: 0.5rem;
    border-bottom: 2px solid var(--color-text-lighter);
  }

  .content-article h3 {
    font-size: 1.5rem;
    font-weight: 600;
    margin-top: 2rem;
    margin-bottom: 1rem;
    color: var(--color-text);
  }

  .content-article h4 {
    font-size: 1.25rem;
    font-weight: 600;
    margin-top: 1.5rem;
    margin-bottom: 0.75rem;
    color: var(--color-text);
  }

  .content-article p {
    margin-bottom: 1.5rem;
    line-height: 1.8;
    color: var(--color-text-light);
  }

  .content-article p strong {
    color: var(--color-text);
    font-weight: 600;
  }

  .content-article ul, .content-article ol {
    padding-left: 2rem;
    margin-bottom: 1.5rem;
  }

  .content-article li {
    margin-bottom: 0.75rem;
    color: var(--color-text-light);
    line-height: 1.7;
  }

  .content-article li strong {
    color: var(--color-text);
  }

  .content-article table {
    width: 100%;
    margin: 2rem 0;
    border-collapse: collapse;
    border: 1px solid var(--color-text-lighter);
    border-radius: var(--radius-md);
    overflow: hidden;
  }

  .content-article th {
    background-color: var(--color-background-alt);
    padding: 1rem;
    text-align: left;
    font-weight: 600;
    color: var(--color-text);
    border-bottom: 1px solid var(--color-text-lighter);
  }

  .content-article td {
    padding: 1rem;
    border-bottom: 1px solid var(--color-text-lighter);
    color: var(--color-text-light);
  }

  .content-article tr:last-child td {
    border-bottom: none;
  }

  .content-article a {
    color: var(--color-primary);
    text-decoration: none;
    font-weight: 500;
    transition: all var(--transition-normal);
  }

  .content-article a:hover {
    color: var(--color-primary-dark);
    text-decoration: underline;
  }

  .content-article blockquote {
    border-left: 4px solid var(--color-primary);
    padding-left: 1.5rem;
    margin: 2rem 0;
    font-style: italic;
    background-color: var(--color-background-alt);
    padding: 1.5rem;
    border-radius: var(--radius-md);
  }

  .content-article code {
    background-color: var(--color-background-alt);
    padding: 0.25rem 0.5rem;
    border-radius: var(--radius-sm);
    font-size: 0.9em;
    color: var(--color-primary);
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
  }

  .content-article pre {
    background-color: var(--color-background-alt);
    padding: 1.5rem;
    border-radius: var(--radius-md);
    overflow-x: auto;
    margin: 1.5rem 0;
  }

  .content-article pre code {
    background: none;
    padding: 0;
    color: var(--color-text);
  }

  .content-article hr {
    border: none;
    height: 1px;
    background-color: var(--color-text-lighter);
    margin: 3rem 0;
  }

  /* Special styling for contact sections */
  .content-article h3 + ul {
    background-color: var(--color-background-alt);
    padding: 1.5rem;
    border-radius: var(--radius-md);
    border: 1px solid var(--color-text-lighter);
    margin-top: 1rem;
  }

  /* Dark mode adjustments */
  .dark .content-article {
    color: var(--color-dark-text);
  }

  .dark .content-article h1,
  .dark .content-article h2,
  .dark .content-article h3,
  .dark .content-article h4 {
    color: var(--color-dark-text);
  }

  .dark .content-article h2 {
    border-bottom-color: var(--color-dark-text-lighter);
  }

  .dark .content-article p,
  .dark .content-article li,
  .dark .content-article td {
    color: var(--color-dark-text-light);
  }

  .dark .content-article p strong,
  .dark .content-article li strong {
    color: var(--color-dark-text);
  }

  .dark .content-article a {
    color: var(--color-primary-light);
  }

  .dark .content-article a:hover {
    color: var(--color-primary);
  }

  .dark .content-article table,
  .dark .content-article th,
  .dark .content-article td {
    border-color: var(--color-dark-text-lighter);
  }

  .dark .content-article th {
    background-color: var(--color-dark-background-alt);
    color: var(--color-dark-text);
  }

  .dark .content-article blockquote {
    background-color: var(--color-dark-background-alt);
  }

  .dark .content-article code {
    background-color: var(--color-dark-background-alt);
    color: var(--color-primary-light);
  }

  .dark .content-article pre {
    background-color: var(--color-dark-background-alt);
  }

  .dark .content-article pre code {
    color: var(--color-dark-text);
  }

  .dark .content-article hr {
    background-color: var(--color-dark-text-lighter);
  }

  .dark .content-article h3 + ul {
    background-color: var(--color-dark-background-alt);
    border-color: var(--color-dark-text-lighter);
  }

  /* Responsive adjustments */
  @media (max-width: 768px) {
    .content-article {
      font-size: 1rem;
    }

    .content-article h1 {
      font-size: 2rem;
    }

    .content-article h2 {
      font-size: 1.5rem;
    }

    .content-article h3 {
      font-size: 1.25rem;
    }

    .content-article table {
      font-size: 0.875rem;
    }

    .content-article th,
    .content-article td {
      padding: 0.75rem;
    }
  }
</style>
